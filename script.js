let archive = {
   "objects": [
        {
            "Objectname": "Perfume",
            "Context": "First ever perfume gifted to me by my aunt on my 15th birthday",
            "Age": "5 years ",
            "Frequency": "5",
            "Significance": "5",
            "Attachmentmeter": "3",
            "Use": "5",
            "Countryoforigin": "France",
            "Material": "Glass",
            "Overall Ranking": "4.5"
        },
        {
            "Objectname": "Antique plate",
            "Context": "Tiny, embossed plate bought in an antique store in Cold Springs, NY, for $10, currently being used to store my trinklets and daily jewelery.",
            "Age": "N/A",
            "Frequency": "5",
            "Significance": "3",
            "Attachmentmeter": "3",
            "Use": "5",
            "Countryoforigin": "N/A",
            "Material": "Metal",
            "Overall Ranking": "3.5"
        },
        {
            "Objectname": "The beggar",
            "Context": "Black and white artwork of a young beggar (originally by Spanish painter Bartolomé Esteban Murillo) thrifted in the Chelsea flea market.",
            "Age": "N/A",
            "Frequency": "3",
            "Significance": "4",
            "Attachmentmeter": "2",
            "Use": "2",
            "Countryoforigin": "N/A",
            "Material": "Paper",
            "Overall Ranking": "3.5"
        },
        {
            "Objectname": "Tiny Calico",
            "Context": "Tiny Calico inside a tiny box spun from gacha, gifted to me by Nisha",
            "Age": "2 days",
            "Frequency": "3",
            "Significance": "5",
            "Attachmentmeter": "4",
            "Use": "3",
            "Countryoforigin": "Japan",
            "Material": "Plastic",
            "Overall Ranking": "4"
        },
        {
            "Objectname": "The Creative Act",
            "Context": "A book by Rick Rubin that introduces a beautiful way of thinking for creatives that very much expanded my way of thinking.",
            "Age": "1 year",
            "Frequency": "4",
            "Significance": "5",
            "Attachmentmeter": "4",
            "Use": "4",
            "Countryoforigin": "U.S.A",
            "Material": "Paper",
            "Overall Ranking": "4.5"
        },
        {
            "Objectname": "Grahapravesam",
            "Context": "Riso-printed book designed by me for Core 2 Typography entailing lyrics from 3 songs that I associate with home, along with childhood pictures of my family and I.",
            "Age": "1 year",
            "Frequency": "4",
            "Significance": "5",
            "Attachmentmeter": "5",
            "Use": "3",
            "Countryoforigin": "India",
            "Material": "Paper",
            "Overall Ranking": "5"
        },
        {
            "Objectname": "Hoops",
            "Context": "Cheap hoops that I wear every.single.day to the point where the paint has chipped off, but I still wear it.",
            "Age": "1 year",
            "Frequency": "5",
            "Significance": "5",
            "Attachmentmeter": "5",
            "Use": "5",
            "Countryoforigin": "U.S.A",
            "Material": "Metal",
            "Overall Ranking": "5"
        },
        {
            "Objectname": "Jumbo",
            "Context": "My childhood best friend's treasured soft toy given to her by her grandma, which she later exchanged with me for one of my treasured objects.",
            "Age": "7 years",
            "Frequency": "4",
            "Significance": "5",
            "Attachmentmeter": "4",
            "Use": "2",
            "Countryoforigin": "India",
            "Material": "Fabric",
            "Overall Ranking": "4.5"
        },
        {
            "Objectname": "The Little Prince",
            "Context": "\"The little prince\" in Japanese bought by me to practice reading my Japanese.",
            "Age": "8 months",
            "Frequency": 5,
            "Significance": 3,
            "Attachmentmeter": 3,
            "Use": 4,
            "Countryoforigin": "Japan",
            "Material": "Paper",
            "Overall Ranking": 4
          },
          {
            "Objectname": "The Smiskis",
            "Context": "Cheerleader smiskis bought from An Me in a blind-box format. It cheers me up everyday.",
            "Age": "1 month",
            "Frequency": 5,
            "Significance": 3,
            "Attachmentmeter": 3,
            "Use": 3,
            "Countryoforigin": "Japan",
            "Material": "Plastic",
            "Overall Ranking": 3.5
          },
          {
            "Objectname": "Sonny baby",
            "Context": "Wall Street Bull Sonny from the New York City series. This is the secret one, and my first secret one, making it a 1/144 chance of getting one. Anoushka picked it out for me.",
            "Age": "6 months",
            "Frequency": 3,
            "Significance": 5,
            "Attachmentmeter": 3,
            "Use": 3,
            "Countryoforigin": "Japan",
            "Material": "Plastic",
            "Overall Ranking": 4
          },
          {
            "Objectname": "Sticker pack",
            "Context": "Stickers Nisha got me from Japan.",
            "Age": "2 days",
            "Frequency": 4,
            "Significance": 5,
            "Attachmentmeter": 4,
            "Use": 3,
            "Countryoforigin": "Japan",
            "Material": "Paper",
            "Overall Ranking": 4
          },
          {
            "Objectname": "It starts with a... swipe?",
            "Context": "Product of my extensive research and interviews on love and modern romance in the form of a book.",
            "Age": "2 months",
            "Frequency": 4,
            "Significance": 5,
            "Attachmentmeter": 5,
            "Use": 3,
            "Countryoforigin": "U.S.A",
            "Material": "Paper",
            "Overall Ranking": 4.5
          },
          {
            "Objectname": "Nico Neko Bookmark",
            "Context": "Metal bookmark with a head of a cat I bought for $8 at my favorite Japanese stationery store, Nico Neko Zakkaya.",
            "Age": "1 year",
            "Frequency": 5,
            "Significance": 4,
            "Attachmentmeter": 5,
            "Use": 5,
            "Countryoforigin": "Japan",
            "Material": "Metal",
            "Overall Ranking": 4.5
          },
          {
            "Objectname": "Room for Thought",
            "Context": "Chaotic design book I bought in MAST books. Frees my creativity and forces me to think out of the box.",
            "Age": "1 year",
            "Frequency": 4,
            "Significance": 5,
            "Attachmentmeter": 4,
            "Use": 4,
            "Countryoforigin": "U.S.A",
            "Material": "Paper",
            "Overall Ranking": 4
          }
    ]
};

//When I click on an image, the grid shifts slightly to the right to give space to the info box 

// Troubleshooted using ChatGPT

const gridContainer = document.querySelector('.grid-container');
let isShifted = false; // Track if it's already moved

//metadata
const itemDescription = document.getElementById("item-description");
const infoBox = document.getElementById("info-box");
const itemName = document.getElementById("item-name");
const itemContext = document.getElementById("item-context");
const itemAge = document.getElementById("item-age");
const itemOrigin = document.getElementById("item-origin");
const itemMaterial = document.getElementById("item-material");
const itemAttachment = document.getElementById("item-attachment");

// Attach click event to all images
document.querySelectorAll('.grid-container img').forEach((img, index) => {
    img.dataset.index = index; // Assign index to match JSON

    img.addEventListener('click', () => {
        // Move grid once
        if (!isShifted) {  
            gridContainer.style.transform = `translateX(10vw)`;
            isShifted = true;
        }

        // Get the corresponding object from JSON
        const object = archive.objects[index];

        if (object) {
            showItemDetails(object);
        }
    });
});

// Function to convert attachment level to star emojis
function getAttachmentStars(attachmentLevel) {
    const fullStar = '★'; // Full star emoji
    const emptyStar = '☆'; // Empty star emoji (you can choose another one if you prefer)

    // Generate the number of full stars based on the attachment level
    return fullStar.repeat(attachmentLevel) + emptyStar.repeat(5 - attachmentLevel);
}

// Display metadata in the info box
function showItemDetails(object) {
    itemName.textContent = `NAME: ${object.Objectname}`;
    itemContext.textContent = `CONTEXT: ${object.Context}`;
    itemAge.textContent = `AGE: ${object.Age}`;
    itemOrigin.textContent = `ORIGIN: ${object.Countryoforigin}`;
    itemMaterial.textContent = `MATERIAL: ${object.Material}`;
    itemAttachment.textContent = `ATTACHMENT LEVEL: ${getAttachmentStars(object.Attachmentmeter)}`;
  
    itemDescription.style.display = "block";
    infoBox.classList.add("show-border");
}

// Creating a data graph

const xPerfume = [5, 5, 3, 5];
const yPerfume = ["Frequency", "Significance", "Attachment Meter", "Use rating"];

const xPlate = [5, 3, 3, 5];
const yPlate = ["Frequency", "Significance", "Attachment Meter", "Use rating"];

const xBeggar = [3, 4, 2, 2];
const yBeggar = ["Frequency", "Significance", "Attachment Meter", "Use rating"];

const xCalico = [3, 5, 4, 3];
const yCalico = ["Frequency", "Significance", "Attachment Meter", "Use rating"];

const xCreativeAct = [4, 5, 4, 4];
const yCreativeAct = ["Frequency", "Significance", "Attachment Meter", "Use rating"];

const xGrahapravesam = [4, 5, 5, 3];
const yGrahapravesam = ["Frequency", "Significance", "Attachment Meter", "Use rating"];

const xHoops = [5, 5, 5, 5];
const yHoops = ["Frequency", "Significance", "Attachment Meter", "Use rating"];

const xJumbo = [4, 5, 4, 2];
const yJumbo = ["Frequency", "Significance", "Attachment Meter", "Use rating"];

const xPrince = [5, 3, 3, 4];
const yPrince = ["Frequency", "Significance", "Attachment Meter", "Use rating"];

const xSmiski = [5, 3, 3, 3];
const ySmiski = ["Frequency", "Significance", "Attachment Meter", "Use rating"];

const xSonny = [3, 5, 3, 3];
const ySonny = ["Frequency", "Significance", "Attachment Meter", "Use rating"];

const xSticker = [4, 5, 4, 3];
const ySticker = ["Frequency", "Significance", "Attachment Meter", "Use rating"];

const xSwipe = [4, 5, 5, 3];
const ySwipe = ["Frequency", "Significance", "Attachment Meter", "Use rating"];

const xNico = [5, 4, 5, 5];
const yNico = ["Frequency", "Significance", "Attachment Meter", "Use rating"];

const xRoom = [4, 5, 4, 4];
const yRoom = ["Frequency", "Significance", "Attachment Meter", "Use rating"];

// Trace for Perfume data
const tracePerfume = {
  x: xPerfume,
  y: yPerfume,
  mode: "markers",
  name: "Perfume",  // Name for legend
  marker: {
    color: 'rgba(255, 0, 0, 0.6)',  // Red with transparency
    size: 12
  }
};

// Trace for Plate data
const tracePlate = {
  x: xPlate,
  y: yPlate,
  mode: "markers",
  name: "Plate",  // Name for legend
  marker: {
    color: '#0000ffcc',  // Green with transparency
    size: 12
  }
};

// Trace for Plate data
const traceBeggar = {
    x: xBeggar,
    y: yBeggar,
    mode: "markers",
    name: "Beggar",  // Name for legend
    marker: {
      color: 'grey',  
      size: 12
    }
  };

  // Trace for Plate data
const traceCalico = {
    x: xCalico,
    y: yCalico,
    mode: "markers",
    name: "Tiny Calico",  // Name for legend
    marker: {
      color: 'pink',  
      size: 12
    }
  };

    // Trace for Plate data
const traceCreativeAct = {
    x: xCreativeAct,
    y: yCreativeAct,
    mode: "markers",
    name: "The Creative Act",  // Name for legend
    marker: {
      color: '#D3D3D3',  
      size: 12
    }
  };

const traceGrahapravesam = {
    x: xGrahapravesam ,
    y: yGrahapravesam ,
    mode: "markers",
    name: "Grahapravesam",  // Name for legend
    marker: {
      color: '#80000080',  
      size: 12
    }
  };

  const traceHoops = {
    x: xHoops ,
    y: yHoops ,
    mode: "markers",
    name: "Hoops",  // Name for legend
    marker: {
      color: '#FFFF0080',  
      size: 12
    }
  };

  const traceJumbo = {
    x: xJumbo ,
    y: yJumbo ,
    mode: "markers",
    name: "Jumbo",  // Name for legend
    marker: {
      color: '#F5F5DC80',  
      size: 12
    }
  };

  const tracePrince = {
    x: xPrince ,
    y: yPrince ,
    mode: "markers",
    name: "Prince",  // Name for legend
    marker: {
      color: '#87CEEB',  
      size: 12
    }
  };

  const traceSmiski = {
    x: xSmiski ,
    y: ySmiski ,
    mode: "markers",
    name: "Smiski",  // Name for legend
    marker: {
      color: '#00FF0080',  
      size: 12
    }
  };

  const traceSonny = {
    x: xSonny ,
    y: ySonny ,
    mode: "markers",
    name: "Sonny Baby",  // Name for legend
    marker: {
      color: '#CD7F32',  
      size: 12
    }
  };

  const traceSticker = {
    x: xSticker ,
    y: ySticker ,
    mode: "markers",
    name: "Stickers",  // Name for legend
    marker: {
      color: '#FF69B480',  
      size: 12
    }
  };

  const traceSwipe = {
    x: xSwipe ,
    y: ySwipe ,
    mode: "markers",
    name: "It starts with a swipe?",  // Name for legend
    marker: {
      color: 'red',  
      size: 12
    }
  };

  const traceNico = {
    x: xNico ,
    y: yNico ,
    mode: "markers",
    name: "NicoNeko",  // Name for legend
    marker: {
      color: '#FFa50080',  
      size: 12
    }
  };

  const traceRoom = {
    x: xRoom ,
    y: yRoom ,
    mode: "markers",
    name: "Room for thought",  // Name for legend
    marker: {
      color: '#40804080',  
      size: 12
    }
  };



// Combine both traces into the data array
const data = [tracePerfume, tracePlate,traceBeggar,traceCalico, traceCreativeAct, traceGrahapravesam, traceHoops, traceJumbo, tracePrince, traceSmiski, traceSonny, traceSticker, traceSwipe, traceNico, traceRoom ];

// Define Layout with Global Font Customization
const layout = {
  font: {
    family: 'dico-code-two, mono',  // Apply to all text elements
    size: 14,  // Set global font size
    color: 'black'  // Set global font color
  },
  xaxis: {
    range: [1, 6],
    title: {
      text: "Range",  // Title of x-axis
    },
    tickfont: {
      size: 14  // Font size for x-axis ticks (inherited font family and color)
    }
  },
  yaxis: {
    range: ["Frequency", "Use rating"],
    tickfont: {
      size: 14  // Font size for y-axis ticks (inherited font family and color)
    }
  },
  legend: {
    font: {
        family: 'dico-code-two, mono',  // Apply to all text elements
      size: 14,  // Font size for legend items
      color: 'black'  // Font color for legend items
    }
  },
  margin: {
    l: 150,  // Left margin
    r: 100,  // Right margin
    t: 80,  // Top margin
    b: 80   // Bottom margin
  },
  
};


// Display using Plotly
Plotly.newPlot("myPlot", data, layout);



// definining the overview button 


const Overviewbtn = document.querySelector('.overview');
const Titlemenu = document.querySelector('.title');
const Directory = document.querySelector('.directory');
const imageGrid = document.querySelector('.image-grid');
const myPlot = document.getElementById("myPlot");
const container = document.querySelector('.container')

Overviewbtn.addEventListener('click', () => {
    myPlot.style.display = "block";  // Corrected syntax
    gridContainer.style.display = "none";  // Corrected syntax
});

Directory.addEventListener('click', () => {
    myPlot.style.display = "none";  // Corrected syntax
    gridContainer.style.display = "block";  // Corrected syntax

    gridContainer.querySelectorAll('img').forEach((img) => {
        img.classList.add('scale-down');  // Add scale-down class to all images
    });
});

Titlemenu.addEventListener('click', () => {
    myPlot.style.display = "none"; 
    gridContainer.style.display = "grid";
});